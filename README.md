# Hagen

[![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=hagen&metric=alert_status)](https://sonarcloud.io/dashboard?id=hagen)
[![Go Report Card](https://goreportcard.com/badge/github.com/benmatselby/hagen?style=flat-square)](https://goreportcard.com/report/github.com/benmatselby/hagen)

![Tom Hagen](/img/hagen.jpg)

CLI application for getting information out of [GitHub](https://github.com), mainly for running a sprint and generating a burn down and creating changelogs.

```text
CLI application for retrieving data from GitHub

Usage:
  hagen [command]

Available Commands:
  help        Help about any command
  issues      List issues given the search criteria

Flags:
      --config string   config file (default is $HOME/.benmatselby/hagen.yaml)
  -h, --help            help for hagen

Use "hagen [command] --help" for more information about a command.
```

## Requirements

This application uses Go modules, so you will require:

- [Go version 1.11+](https://golang.org/dl/)
- You will need require a [PAT from GitHub](https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line).

## Configuration

There are two aspects to configuring `hagen`.

### Environment variables

In order to connect to GitHub `hagen` requires two environment variables.

```bash
export GITHUB_OWNER=""
export GITHUB_TOKEN=""
```

The token can be generated by reading this [article](https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line). Typically the `GITHUB_OWNER` will be your username.

### Configuration file

`hagen` tries to save on typing, so you can define some queries in a configuration file.

```yml
templates:
  sprint:
    query: "state:open project:acme/14"
    count: 200
  open-bugs:
    query: "repo:benmatselby/donny state:open"
    count: 50
```

To understand how to write the `query` section, follow [this article](https://help.github.com/en/articles/searching-issues-and-pull-requests).

## Installation via Git

```bash
git clone git@github.com:benmatselby/hagen.git
cd hagen
make all
./hagen
```

You can also install into your `$GOPATH/bin` by `go install`
